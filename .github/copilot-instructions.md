# Copilot Instructions for GenZ Trading Platform

## Big Picture Architecture
- **Monorepo** with Python backend, AI models, REST API (FastAPI), and React client.
- **Core logic** in `core/` (pattern detection, indicators, strategies, execution, risk management).
- **AI models** in `ai_models/` (training, prediction, utilities).
- **Services** in `services/` (websocket feed, bots, scheduler, notifier).
- **API** in `api/main.py` (exposes AI logic via FastAPI; loads model from `ai_models/`).
- **Client** in `client/` (React + Tailwind, uses `/api` endpoints and WebSocket for real-time data).
- **Expert Advisors** in `expert-advisors/mt4_ea` and `mt5_ea` for MetaTrader integration.
- **Docker** and `docker-compose.yml` for multi-service deployment.

## Developer Workflows
- **Python:**
  - Install: `pip install -r requirements.txt`
  - Run main engine: `python main.py`
  - Train model: `python scripts/train_model.py`
  - Feature engineering: `python scripts/feature_engineering.py`
  - Download data: `python scripts/download_data.py`
- **Node/React:**
  - Install: `yarn install` (in `client/` and root)
  - Build: `yarn build`
  - Start: `yarn start`
- **Testing:**
  - Python: `pytest` or `unittest` in `core/tests/`
  - Node: `yarn test` (Vitest)
- **Lint:** `yarn lint`
- **Database:**
  - Migrate: `npm run db:migrate`
  - Test: `npm run test`
- **Docker:**
  - Build & run: `docker-compose up --build`

## Project Conventions & Patterns
- **Signals:**
  - Trading signals are generated by AI models and sent to bots (Telegram, Discord) and EAs via REST/WebSocket.
  - Signal format: JSON with symbol, entry, target, stop loss, status, confidence.
- **Bots:**
  - Telegram/Discord bots use `/signals`, `/status`, `/help` commands.
  - Notification format: color-coded, includes confidence, entry/target/stop loss.
- **Client:**
  - Uses React Query for API data, Tailwind for UI, custom status cards for service health.
  - Status and configuration panels for API keys, bot tokens, and service health.
- **AI Models:**
  - Main: OpenAI GPT-4o; fallback: Gemini 2.5.
  - Response format: structured JSON.
- **Environment:**
  - Secrets in `.env` (API keys, DB URL, bot tokens).
  - Set `NODE_ENV=production` for deployment.

## Integration Points
- **Bybit, Capital.com, MetaTrader:**
  - API keys required; see `.env.example`.
  - EAs connect to backend via HTTP REST polling (`/api/signals`) or WebSocket (`/ws`).
- **Bots:**
  - Telegram/Discord bots send notifications and accept commands.
- **Database:**
  - PostgreSQL (Neon); migrations via `npm run db:migrate`.

## Examples
- **Signal Transmission:**
  - `core/strategies/signal_analyzer.py` generates signals, sent via `services/notifier.py`.
- **Pattern Recognition:**
  - `core/patterns/pattern_detector.py` used in notebooks and API.
- **Client Status Cards:**
  - `client/src/pages/AIServices.tsx`, `MT45Signals.tsx`, `PatternRecognition.tsx` show service health, signal stats, and configuration.

## CI/CD
- GitHub Actions workflow recommended for build, lint, test, and Docker deploy.
- See `DEPLOYMENT.md` for deployment steps and troubleshooting.

---
If any section is unclear or missing, please provide feedback for improvement.
